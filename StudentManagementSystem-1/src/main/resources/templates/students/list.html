<!-- src/main/resources/templates/students/list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Student Management System</title>
  <link rel="stylesheet" th:href="@{/css/sms.css}">
  <!-- Bootstrap (for quick buttons/layout) -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
<header class="container py-4 d-flex align-items-center justify-content-between">
  <div class="d-flex align-items-center gap-3">
    <span class="logo">🎓</span>
    <h1 class="m-0">Student Management System</h1>
  </div>
  <a class="btn btn-success btn-lg" th:href="@{/students/new}">
    + Add New Student
  </a>
</header>

<main class="container">
  <!-- Search & Page size -->
  <form class="row g-2 align-items-center mb-3" method="get" th:action="@{/students}">
    <div class="col-sm-6">
      <input class="form-control form-control-lg" type="search" name="q"
             placeholder="Search by name, email, or course"
             th:value="${q}">
    </div>
    <div class="col-auto">
      <button class="btn btn-primary btn-lg" type="submit">Search</button>
      <a class="btn btn-outline-secondary btn-lg" th:href="@{/students}">Reset</a>
    </div>
  </form>

  <!-- Table -->
  <div class="table-responsive shadow-sm rounded-4 overflow-hidden">
    <table class="table table-hover align-middle mb-0">
      <thead class="table-dark">
      <tr>
        <th style="width: 70px;">ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Course</th>
        <th style="width: 90px;">Age</th>
        <th style="width: 180px;">Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="s : ${page.content}">
        <td th:text="${s.id}">1</td>
        <td th:text="${s.name}">Name</td>
        <td th:text="${s.email}">email@example.com</td>
        <td th:text="${s.course}">Course</td>
        <td th:text="${s.age}">20</td>
        <td>
          <a class="btn btn-warning btn-sm me-1" th:href="@{|/students/${s.id}/edit|}">
            ✏️ Edit
          </a>
          <form th:action="@{|/students/${s.id}/delete|}" method="post" class="d-inline"
                onsubmit="return confirm('Delete this student?');">
            <button class="btn btn-danger btn-sm">✖ Delete</button>
          </form>
        </td>
      </tr>
      <tr th:if="${page.content.size() == 0}">
        <td colspan="6" class="text-center py-4">No students found.</td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <nav th:if="${page.totalPages > 1}" class="mt-3">
    <ul class="pagination justify-content-center">
      <li class="page-item" th:classappend="${page.first} ? 'disabled'">
        <a class="page-link"
           th:href="@{|/students?page=${page.number-1}&size=${page.size}&q=${q}|}">« Prev</a>
      </li>

      <li class="page-item"
          th:each="p : ${#numbers.sequence(0, page.totalPages-1)}"
          th:classappend="${p}==${page.number} ? 'active'">
        <a class="page-link"
           th:text="${p+1}"
           th:href="@{|/students?page=${p}&size=${page.size}&q=${q}|}">1</a>
      </li>

      <li class="page-item" th:classappend="${page.last} ? 'disabled'">
        <a class="page-link"
           th:href="@{|/students?page=${page.number+1}&size=${page.size}&q=${q}|}">Next »</a>
      </li>
    </ul>
  </nav>
</main>

<footer class="container text-center small text-muted py-4">
  © <span th:text="${#dates.format(#dates.createNow(),'yyyy')}">2025</span> SMS
</footer>
</body>
</html>
>